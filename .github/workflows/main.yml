# 工作流名称：私有源码部署到GitHub Pages
name: Deploy Private HTML to GitHub Pages

# 触发条件：当向main分支提交代码时，自动运行该工作流
on:
  push:
    branches: [ main ]

# 工作流执行任务
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      # 步骤1：拉取私有仓库的源码
      - name: Checkout Private Source Code
        uses: actions/checkout@v4

      # 步骤2：将源码中的HTML文件同步到公共Pages仓库
      - name: Deploy to Public Pages Repository
        uses: peaceiris/actions-gh-pages@v4
        with:
          # 关键1：替换为你的公共Pages仓库地址（格式：https://github.com/<用户名>/<用户名>.github.io.git）
          repo: <你的GitHub用户名>/<你的GitHub用户名>.github.io
          # 关键2：替换为你的GitHub Personal Access Token（下方会教你如何获取）
          personal_token: ${{ secrets.PAGES_DEPLOY_TOKEN }}
          # 关键3：指定要部署的文件（私有仓库根目录的所有静态文件，无需修改）
          publish_dir: ./
          # 关键4：公共Pages仓库的部署分支（默认gh-pages，若没有会自动创建）
          publish_branch: main
